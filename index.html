<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Shruti üéâ</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      background: #000;
      color: white;
      overflow: hidden;
    }
    h1 {
      font-size: 3rem;
      margin: 20px;
      text-shadow: 2px 2px 5px #000;
    }
    #notYet {
      font-size: 1.5rem;
      margin-top: 100px;
    }
    /* Slideshow */
    #slideshow {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -1;
    }
    #slideshow img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      position: absolute;
      top: 0; left: 0;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }
    #slideshow img.active {
      opacity: 1;
    }
    canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
    }
    #musicBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 10px 20px;
      border: none;
      border-radius: 12px;
      background: #fff;
      color: #000;
      cursor: pointer;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <h1 id="title"></h1>
  <p id="notYet"></p>
  <div id="slideshow"></div>
  <canvas id="confetti"></canvas>

  <!-- Background Music -->
  <audio id="bgMusic" src="music.mp3" loop></audio>
  <button id="musicBtn">üéµ Play / Pause</button>

  <script>
    // üéÇ Set birthday date
    const birthday = new Date("2025-09-01"); // <-- Shruti's bday
    const today = new Date();

    const titleEl = document.getElementById("title");
    const notYetEl = document.getElementById("notYet");
    const slideshow = document.getElementById("slideshow");
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // üéµ Music
    const musicEl = document.getElementById("bgMusic");
    const musicBtn = document.getElementById("musicBtn");

    musicBtn.onclick = () => {
      if (musicEl.paused) {
        musicEl.volume = 0.6;
        musicEl.play();
        musicBtn.textContent = "‚è∏ Pause Music";
      } else {
        musicEl.pause();
        musicBtn.textContent = "üéµ Play Music";
      }
    };

    // üì∏ Slideshow images (make sure you have 1.jpg, 2.jpg, etc.)
    const totalImages = 10; // change if more/less
    let imgEls = [];
    for (let i = 1; i <= totalImages; i++) {
      let img = document.createElement("img");
      img.src = i + ".jpg";
      if (i === 1) img.classList.add("active");
      slideshow.appendChild(img);
      imgEls.push(img);
    }
    let current = 0;
    function startSlideshow() {
      setInterval(() => {
        imgEls[current].classList.remove("active");
        current = (current + 1) % imgEls.length;
        imgEls[current].classList.add("active");
      }, 3000);
    }

    // üéâ Confetti setup
    let confetti = [];
    for (let i = 0; i < 150; i++) {
      confetti.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 6 + 2,
        d: Math.random() * 10,
        color: `hsl(${Math.random()*360},100%,50%)`
      });
    }

    function drawConfetti() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      confetti.forEach(c => {
        ctx.beginPath();
        ctx.arc(c.x, c.y, c.r, 0, Math.PI*2);
        ctx.fillStyle = c.color;
        ctx.fill();
      });
      updateConfetti();
    }

    function updateConfetti() {
      confetti.forEach(c => {
        c.y += Math.cos(c.d) + 1 + c.r/2;
        c.x += Math.sin(c.d);
        if (c.y > canvas.height) {
          c.y = -10;
          c.x = Math.random() * canvas.width;
        }
      });
    }

    function animate() {
      drawConfetti();
      requestAnimationFrame(animate);
    }

    // üéÇ Show birthday page or waiting message
    if (today.toDateString() === birthday.toDateString() || today > birthday) {
      titleEl.textContent = "üéâ Happy Birthday Shruti! üéÇ";
      notYetEl.textContent = "";
      startSlideshow();
      animate();
      musicEl.volume = 0.6;
      musicEl.play().catch(()=>{});
    } else {
      titleEl.textContent = "";
      notYetEl.textContent = "‚åõ It‚Äôs not your birthday yet, Shruti ‚ù§Ô∏è";
      slideshow.style.display = "none";
      canvas.style.display = "none";
      musicBtn.style.display = "none";
    }
  </script>
</body>
</html>
